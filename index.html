<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>surat maafku untuk kanjeng ratu</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Playfair Display', serif;
  overflow:hidden;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#a8dadc,#bde0fe,#caf0f8);
  background-size:400% 400%;
  animation:bgAnim 20s ease infinite;
}
@keyframes bgAnim{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
.card{position:relative;background:rgba(255,255,255,0.95);padding:30px;border-radius:25px;width:90%;max-width:450px;text-align:center;box-shadow:0 25px 60px rgba(0,0,0,0.3);z-index:2;}
h1{color:#ff4d6d;margin-bottom:15px;text-shadow:1px 1px 5px rgba(0,0,0,0.2);font-weight:700;}
p{font-size:16px;line-height:1.8;color:#333;margin:12px 0;opacity:0;}
button{margin:10px 5px 0 5px;padding:12px 28px;border:none;border-radius:30px;background:linear-gradient(135deg,#ff4d6d,#ff7eb3);color:white;font-size:16px;cursor:pointer;box-shadow:0 8px 25px rgba(0,0,0,0.3);transition:all 0.4s ease;}
button:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 12px 25px rgba(0,0,0,0.4);}
.heart,.sparkle{position:absolute;font-size:18px;pointer-events:none;opacity:0.7;}
@keyframes float{from{transform:translateY(0) rotate(0deg);}to{transform:translateY(-120vh) rotate(360deg);}}
.confetti{position:absolute;width:8px;height:8px;border-radius:50%;opacity:0.8;pointer-events:none;animation:confettiFall 3s linear infinite;}
@keyframes confettiFall{0%{transform:translateY(-10px) rotate(0deg);opacity:1;}100%{transform:translateY(100vh) rotate(360deg);opacity:0;}}
.flash-bg{position:absolute;width:100%;height:100%;top:0;left:0;background:radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);pointer-events:none;opacity:0;animation:flash 0.6s forwards;}
@keyframes flash{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}
.page{display:none;}.page.active{display:block;}
#page3 p{color:#000; opacity:1; transform:translateY(0) scale(1); font-weight:700; font-size:17px;}
#page4{overflow:hidden; background:linear-gradient(135deg,#caf0f8,#bde0fe,#a8dadc); text-align:center;}
#page4 .letter{position:absolute;font-size:24px;font-weight:700;color:#ff4d6d;opacity:0;pointer-events:none; text-shadow:1px1px4px rgba(0,0,0,0.2);}
input{padding:10px 15px;border-radius:20px;border:none;margin-top:10px;width:70%;font-family:'Playfair Display', serif;}
</style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2021/09/14/audio_01ef9a57c1.mp3" type="audio/mpeg">
</audio>
<audio id="whoosh" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_5c5c570c55.mp3"></audio>

<!-- LOGIN PAGE -->
<div class="card page active" id="loginPage">
<h1>selamat datang ğŸ’</h1>
<p>masukkan nama kamu ya cantik ğŸ˜‰</p>
<input type="text" id="nameInput" placeholder="Nama kamu...">
<br>
<button onclick="login()">masuk ğŸ«°</button>
</div>

<!-- PAGE1 -->
<div class="card page" id="page1">
<h1>for dilaa ğŸ’</h1>
<p style="font-style:italic;color:#555;font-size:14px;">klik tombolnya yaa cantikkkğŸ˜‰ğŸ˜‰</p>
<p data-text="aku harap kamuu baca sampai akhir ğŸ˜Š"></p>
<p data-text="dilaa maafin aku yaaa ğŸ¥º"></p>
<p data-text="aku tidak sengaja membentak kamuuu..."></p>
<p data-text="...sumpah aku sebenarnya tidak bermaksud membentak kamuu ğŸ˜”"></p>
<p data-text="aku hanya bercandaa hehee ğŸ˜"></p>
<p data-text="karena kamu sangat lucu dan menggemaskan ketika sedang marah ğŸ¥°"></p>
<p data-text="aku haraapp...kita akan tetap bersahabat untuk selamanya ğŸ˜ŠğŸ¤"></p>
<p data-text="jangan bete terus dong cantik ğŸ˜‰"></p>
<p data-text="terimalah permintaan maafku wahai makhluk paling cantikkk sealam semesta ini ğŸ«°ğŸ’"></p>
<button id="showTextBtn">ğŸ©µ</button>
<button id="nextBtn" style="display:none;" onclick="showPage('page2')">next cantik</button>
</div>

<!-- PAGE2 -->
<div class="card page" id="page2">
<h1>pilih iya atau tidak untuk memaafkan akuğŸ«°</h1>
<button onclick="choose(1)">iyaaaa ğŸ¥°</button>
<button onclick="choose(2)">tidakk ğŸ˜”</button>
</div>

<!-- PAGE3 -->
<div class="card page" id="page3">
<h1>for dilaa ğŸ’</h1>
<p>ih ganyangka kamu bakal maafin aku<br>MAACIIII KARENA SUDAH MEMAAFKAN AKUUUUğŸ¥°ğŸ¥°ğŸ˜‰</p>
<button onclick="showPage('page4')">next</button>
</div>

<!-- PAGE4 -->
<div class="card page" id="page4">
<h1>aku janji bakal beliin kamu es krim dan tidak akan ngebentak kamu lagii ğŸ˜‰ğŸ«°</h1>
</div>

<script>
const bgMusic=document.getElementById("bgMusic");
const whoosh=document.getElementById("whoosh");

// LOGIN + CINEMATIC
function login(){
  const name=document.getElementById("nameInput").value.trim();
  if(name===""){ alert("tolong isi nama kamu dulu ğŸ˜…"); return; }
  const loginPage=document.getElementById("loginPage");
  loginPage.classList.remove("active");
  
  const overlay=document.createElement("div");
  overlay.style.position="absolute"; overlay.style.top=0; overlay.style.left=0;
  overlay.style.width="100%"; overlay.style.height="100%";
  overlay.style.background="radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%)";
  overlay.style.zIndex=10;
  document.body.appendChild(overlay);
  
  for(let i=0;i<30;i++){
    const h=document.createElement("div"); h.className="heart"; h.innerHTML="ğŸ’—";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=(Math.random()*3+3)+"s";
    h.style.fontSize=(Math.random()*18+12)+"px";
    document.body.appendChild(h);
    const s=document.createElement("div"); s.className="sparkle"; s.innerHTML="âœ¨";
    s.style.left=Math.random()*100+"vw";
    s.style.animationDuration=(Math.random()*3+2)+"s";
    s.style.fontSize=(Math.random()*14+10)+"px";
    document.body.appendChild(s);
  }
  
  const welcomeText=document.createElement("h1");
  welcomeText.style.position="absolute"; welcomeText.style.top="40%"; welcomeText.style.left="50%";
  welcomeText.style.transform="translateX(-50%)";
  welcomeText.style.color="#ff4d6d";
  welcomeText.style.fontFamily="'Playfair Display', serif";
  welcomeText.style.fontSize="28px";
  welcomeText.style.zIndex=11; welcomeText.textContent="";
  document.body.appendChild(welcomeText);
  
  let i=0; const message=`selamat datang, ${name}! ğŸ«°`;
  function typeLetter(){
    if(i<message.length){ welcomeText.textContent+=message.charAt(i); i++; setTimeout(typeLetter,35);}
    else { setTimeout(()=>{overlay.remove(); welcomeText.remove(); document.getElementById("page1").classList.add("active"); bgMusic.play();},800);}
  }
  typeLetter();
}

// PAGE1 TEXT SHOW BUTTON
const page1=document.getElementById("page1");
const paras=page1.querySelectorAll("p[data-text]");
let pIndex=0;
const showTextBtn=document.getElementById("showTextBtn");
const nextBtn=document.getElementById("nextBtn");

function typeText(el,text,i=0){
  if(i<text.length){ el.textContent+=text.charAt(i); i++; setTimeout(()=>typeText(el,text,i),20);}
  else{ el.style.opacity=1; createHeartSparkle(); pIndex++; if(pIndex===paras.length){ nextBtn.style.display="inline-block"; showTextBtn.style.display="none";}}
}
showTextBtn.addEventListener("click",()=>{ if(pIndex<paras.length) typeText(paras[pIndex],paras[pIndex].dataset.text); });

// HEART + SPARKLE
function createHeartSparkle(){
  for(let i=0;i<2;i++){
    const h=document.createElement("div"); h.className="heart"; h.innerHTML="ğŸ’—";
    h.style.left=Math.random()*80+10+"%"; h.style.animationDuration=Math.random()*3+4+"s";
    h.style.fontSize=Math.random()*14+12+"px"; h.style.opacity=Math.random()*0.5+0.5;
    document.body.appendChild(h);
    const s=document.createElement("div"); s.className="sparkle"; s.innerHTML="âœ¨";
    s.style.left=Math.random()*80+10+"%"; s.style.animationDuration=Math.random()*3+3+"s";
    s.style.fontSize=Math.random()*12+10+"px"; s.style.opacity=Math.random()*0.5+0.5;
    document.body.appendChild(s);
  }
}

// PAGE CONTROL
function showPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  if(id=="page4") triggerPage4();
}

function choose(option){ showPage("page3"); }

// PAGE4: huruf terbang membentuk teks
function triggerPage4(){
  const page4=document.getElementById("page4");
  const letters=[];
  const text="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  const displayText="aku janji bakal beliin kamu es krim dan tidak akan ngebentak kamu lagii ğŸ˜‰ğŸ«°";

  page4.innerHTML=`<h1 style="margin-bottom:20px;">${displayText}</h1>`;

  for(let i=0;i<120;i++){
    const l=document.createElement("div"); 
    l.className="letter";
    l.textContent=text.charAt(Math.floor(Math.random()*text.length));
    l.style.left=Math.random()*page4.clientWidth+"px";
    l.style.top=Math.random()*page4.clientHeight+"px";
    l.style.opacity=0;
    page4.appendChild(l);
    letters.push(l);

    setTimeout(()=>{
      whoosh.currentTime = 0;
      whoosh.volume = 0.6;
      whoosh.play().catch(()=>{});
      l.style.transition="all 1s ease-in-out";
      l.style.opacity=1;
      const x=Math.random()*page4.clientWidth;
      const y=Math.random()*page4.clientHeight;
      l.style.transform = `translate(${x}px, ${y}px) scale(1)`;
    }, i*15);
  }

  // bentuk huruf melingkar membentuk hati
  setTimeout(()=>{
    const centerX=page4.clientWidth/2;
    const centerY=page4.clientHeight/2 + 20;
    const radius=120;
    letters.forEach((l,i)=>{
      const angle=i*(2*Math.PI/letters.length);
      const x=centerX+radius*Math.cos(angle);
      const y=centerY+radius*Math.sin(angle)-50;
      l.style.transition="all 2s ease-in-out";
      l.style.transform=`translate(${x}px,${y}px) scale(1.2) rotate(0deg)`;
      l.style.color="#ff4d6d";
    });
  },2500);
}
</script>
</body>
</html>
